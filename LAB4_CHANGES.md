# –ò–∑–º–µ–Ω–µ–Ω–∏—è –º–µ–∂–¥—É –õ–†3 –∏ –õ–†4 ‚Äî –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –≤–Ω–µ—Å–µ–Ω–Ω—ã–µ –≤ –ø—Ä–æ–µ–∫—Ç –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç—ã ‚Ññ4 (SAGA Choreography).

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã](#–Ω–æ–≤—ã–µ-—Ñ–∞–π–ª—ã)
2. [–ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã](#–∏–∑–º–µ–Ω–µ–Ω–Ω—ã–µ-—Ñ–∞–π–ª—ã)
3. [–ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](#–º–∏–≥—Ä–∞—Ü–∏–∏-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö)
4. [–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker](#–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è-docker)
5. [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](#–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)

---

## üÜï –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/tasks/saga.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –†–µ–∞–ª–∏–∑–∞—Ü–∏—è SAGA Choreography –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `moderate_post()` ‚Äî –∑–∞–¥–∞—á–∞ –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞
  - –ß–∏—Ç–∞–µ—Ç –ø–æ—Å—Ç –∏–∑ –ë–î
  - –°–∏–º—É–ª–∏—Ä—É–µ—Ç –º–æ–¥–µ—Ä–∞—Ü–∏—é (70% –æ–¥–æ–±—Ä–µ–Ω–∏–µ, 30% –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
  - –ü—Ä–∏ –æ–¥–æ–±—Ä–µ–Ω–∏–∏: —Å—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É `generate_preview`
  - –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏: –≤—ã–∑—ã–≤–∞–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —á–µ—Ä–µ–∑ `/internal/articles/{id}/reject`
  
- `generate_preview()` ‚Äî –∑–∞–¥–∞—á–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–µ–≤—å—é
  - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç fake preview URL
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —á–µ—Ä–µ–∑ `/internal/articles/{id}/preview`
  - –°—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É `publish_post`
  
- `publish_post()` ‚Äî –∑–∞–¥–∞—á–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
  - –í—ã–∑—ã–≤–∞–µ—Ç `/internal/articles/{id}/publish`
  - –°—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É `notify` (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –≤–æ—Ä–∫–µ—Ä –∏–∑ –õ–†3)
  
- `enqueue_moderation_task()` ‚Äî —Ö–µ–ª–ø–µ—Ä –¥–ª—è –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏
  - –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç UUID –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
  - –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç UUID –≤ —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Celery

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å: –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ DLQ –ø—Ä–∏ –∏—Å—á–µ—Ä–ø–∞–Ω–∏–∏ —Ä–µ—Ç—Ä–∞–µ–≤
- –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

### 2. `src/tasks/dlq.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–¥–∞—á –∏–∑ Dead Letter Queue —Å –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `handle_failed_task()` ‚Äî –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø –∑–∞–¥–∞—á–∏ –ø–æ –∏–º–µ–Ω–∏
  - –í—ã–ø–æ–ª–Ω—è–µ—Ç –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è:
    - `moderate_post` ‚Üí —Å—Ç–∞—Ç—É—Å `REJECTED`
    - `generate_preview` ‚Üí —Å—Ç–∞—Ç—É—Å `ERROR`
    - `publish_post` ‚Üí —Å—Ç–∞—Ç—É—Å `ERROR`
    - `notify` ‚Üí —Ç–æ–ª—å–∫–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–∏–ø–∞ –∑–∞–¥–∞—á–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

### 3. `src/routes/internal.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è service-to-service –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `POST /internal/articles/{id}/reject` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
  - –¢—Ä–µ–±—É–µ—Ç API-–∫–ª—é—á
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `REJECTED`
  
- `PUT /internal/articles/{id}/preview` ‚Äî —É—Å—Ç–∞–Ω–æ–≤–∫–∞ preview URL
  - –¢—Ä–µ–±—É–µ—Ç API-–∫–ª—é—á
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç `preview_url` –≤ –ë–î
  
- `POST /internal/articles/{id}/publish` ‚Äî –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞
  - –¢—Ä–µ–±—É–µ—Ç API-–∫–ª—é—á
  - –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `PUBLISHED`
  
- `GET /internal/articles/{id}` ‚Äî –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
  - –¢—Ä–µ–±—É–µ—Ç API-–∫–ª—é—á
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–æ—Å—Ç–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ `verify_api_key` middleware
- –ù–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ JWT —Ç–æ–∫–µ–Ω—ã
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤–æ—Ä–∫–µ—Ä–∞–º–∏ –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏

---

### 4. `src/middleware/api_key_auth.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Middleware –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API-–∫–ª—é—á–µ–π.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `verify_api_key()` ‚Äî —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ API-–∫–ª—é—á–∞
  - –ü–∞—Ä—Å–∏—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ `Authorization: Token <key>` –∏–ª–∏ `Authorization: Bearer <key>`
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–ª—é—á –≤ –ë–î (—Ç–∞–±–ª–∏—Ü–∞ `api_keys`)
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ —Å—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è
  - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç `ApiKey` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ `Token` –∏ `Bearer` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∫–ª—é—á–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–ª—é—á–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è

---

### 5. `scripts/generate_api_keys.py` –∏ `scripts/generate_api_keys_simple.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API-–∫–ª—é—á–µ–π –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `generate_api_key()` ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–ª—é—á–∞ (64 –±–∞–π—Ç–∞)
- `create_api_key()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ –ë–î
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π –¥–ª—è:
  - `moderation-worker`
  - `preview-worker`
  - `publish-worker`
  - `dlq-worker`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `secrets.token_urlsafe()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

### 6. `LAB4_README.md`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –õ–†4.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ SAGA Choreography
- –û–ø–∏—Å–∞–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ—Å—Ç–∞
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É
- –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

---

### 7. `LAB4_TESTING.md`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ Swagger.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
- Troubleshooting
- –ß–µ–∫-–ª–∏—Å—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

### 1. `src/models/database.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `status` –≤ –º–æ–¥–µ–ª—å `Article`:
```python
status = Column(String(32), nullable=False, default="DRAFT", index=True)
```

**–ó–Ω–∞—á–µ–Ω–∏—è:**
- `DRAFT` ‚Äî —á–µ—Ä–Ω–æ–≤–∏–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- `PENDING_PUBLISH` ‚Äî –æ–∂–∏–¥–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
- `PUBLISHED` ‚Äî –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω
- `REJECTED` ‚Äî –æ—Ç–∫–ª–æ–Ω–µ–Ω –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
- `ERROR` ‚Äî –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ

#### –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `preview_url`:
```python
preview_url = Column(String(500), nullable=True)
```

#### –î–æ–±–∞–≤–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `ApiKey`:
```python
class ApiKey(Base):
    __tablename__ = "api_keys"
    
    id = Column(UUID(as_uuid=True), primary_key=True, default=uuid.uuid4)
    key = Column(String(255), unique=True, nullable=False, index=True)
    description = Column(String(255), nullable=True)
    created_at = Column(DateTime, default=datetime.utcnow)
    expires_at = Column(DateTime, nullable=True)
    is_active = Column(String(10), default="active", nullable=False)
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API-–∫–ª—é—á–µ–π –¥–ª—è service-to-service –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏.

---

### 2. `src/models/schemas.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ö–µ–º–∞ `ArticleResponse`:
```python
class ArticleResponse(ArticleBase):
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    status: str  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
    preview_url: Optional[str] = None  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∏ preview URL –≤ API –æ—Ç–≤–µ—Ç–∞—Ö.

---

### 3. `src/controllers/crud.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –û–±–Ω–æ–≤–ª–µ–Ω `create_article()`:
```python
db_article = Article(
    # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –ø–æ–ª—è ...
    status="DRAFT"  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û: —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
)
```

#### –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã:

**`get_article_by_id()`:**
```python
def get_article_by_id(self, article_id: uuid.UUID) -> Optional[Article]:
    """Get article by ID"""
```
- –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞ –ø–æ UUID (–¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤)

**`update_article_status()`:**
```python
def update_article_status(self, article_id: uuid.UUID, new_status: str) -> Optional[Article]:
    """Update article status (internal use, no authorization check)"""
```
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ—Å—Ç–∞ (–¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤)

**`update_article_preview()`:**
```python
def update_article_preview(self, article_id: uuid.UUID, preview_url: str) -> Optional[Article]:
    """Update article preview URL (internal use)"""
```
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ preview URL (–¥–ª—è preview worker)

**`request_publication()`:**
```python
def request_publication(self, slug: str, user_id: uuid.UUID) -> Optional[Article]:
    """Request publication: change status from DRAFT to PENDING_PUBLISH"""
```
- –ó–∞–ø—Ä–æ—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏: –ø–µ—Ä–µ—Ö–æ–¥ –∏–∑ DRAFT –≤ PENDING_PUBLISH
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –∞–≤—Ç–æ—Ä–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å—Ç–∞—Ç—É—Å–∞

---

### 4. `src/routes/articles.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –£–¥–∞–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏:
```python
# –ë–´–õ–û (–õ–†3):
enqueue_article_notification(author_id=user_id, article_id=db_article.id)

# –°–¢–ê–õ–û (–õ–†4):
# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```

#### –î–æ–±–∞–≤–ª–µ–Ω —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/articles/{slug}/publish`:
```python
@router.post("/{slug}/publish", response_model=SuccessResponse)
def publish_article(slug: str, user_id: UUID, db: Session):
    """Request publication of an article"""
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (—Ç–æ–ª—å–∫–æ DRAFT)
    # 3. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: —Å—Ç–∞—Ç—É—Å ‚Üí PENDING_PUBLISH
    # 4. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ moderate_post –≤ –æ—á–µ—Ä–µ–¥—å
```

**–õ–æ–≥–∏–∫–∞:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Äî –∞–≤—Ç–æ—Ä –ø–æ—Å—Ç–∞
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ –ø–æ—Å—Ç –≤ —Å—Ç–∞—Ç—É—Å–µ `DRAFT`
- –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ `PENDING_PUBLISH`
- –°—Ç–∞–≤–∏—Ç –∑–∞–¥–∞—á—É –º–æ–¥–µ—Ä–∞—Ü–∏–∏ –≤ –æ—á–µ—Ä–µ–¥—å
- –ü—Ä–∏ –æ—à–∏–±–∫–µ –æ—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å –æ–±—Ä–∞—Ç–Ω–æ –≤ `DRAFT`

---

### 5. `src/main.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω —Ä–æ—É—Ç–µ—Ä –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:
```python
from src.routes import articles, comments, internal  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û

app.include_router(internal.router)  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—é.

---

### 6. `src/config.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```python
# Queue / worker settings
dlq_queue: str = "dlq"  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
backend_url: str = "http://backend:8000"  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
internal_api_key: Optional[str] = None  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- `dlq_queue` ‚Äî –∏–º—è –æ—á–µ—Ä–µ–¥–∏ –¥–ª—è –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
- `backend_url` ‚Äî URL backend –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `internal_api_key` ‚Äî –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π API-–∫–ª—é—á –¥–ª—è –≤–æ—Ä–∫–µ—Ä–æ–≤

---

### 7. `src/tasks/celery_app.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Celery:
```python
task_routes={
    "src.tasks.notifications.*": {"queue": settings.notifications_queue},
    "src.tasks.saga.*": {"queue": settings.notifications_queue},  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
},
# DLQ configuration
task_reject_on_worker_lost=True,  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
task_acks_late=True,  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
task_default_max_retries=3,  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
task_default_retry_delay=5,  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á SAGA –≤ –æ—á–µ—Ä–µ–¥—å
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–µ—Ç—Ä–∞–µ–≤ –∏ DLQ

---

### 8. `src/tasks/notifications.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:** –ë–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å –∏–∑ –õ–†3).

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ó–∞–¥–∞—á–∞ `notify_followers` —Ç–µ–ø–µ—Ä—å –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∏–∑ `publish_post` –≤–º–µ—Å—Ç–æ `create_article`.

---

### 9. `src/tasks/__init__.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:
```python
from .saga import enqueue_moderation_task  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

---

### 10. `src/routes/__init__.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç:
```python
from . import articles, comments, internal  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û

__all__ = ["articles", "comments", "internal"]  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

---

### 11. `alembic/env.py`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω –∏–º–ø–æ—Ä—Ç `ApiKey`:
```python
from src.models.database import Base, Article, Comment, ApiKey  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–≥—Ä–∞—Ü–∏–π –¥–ª—è —Ç–∞–±–ª–∏—Ü—ã `api_keys`.

---

### 12. `docker-compose.yml`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è `backend`:
```yaml
environment:
  # ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ ...
  - DLQ_QUEUE=dlq  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
  - BACKEND_URL=http://backend:8000  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
  - INTERNAL_API_KEY=${INTERNAL_API_KEY:-change-me-in-production}  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
```

#### –î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `saga-worker`:
```yaml
saga-worker:
  build: .
  command: celery -A src.tasks.saga worker --loglevel=info --concurrency=2 -Q article-notifications
  # ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è ...
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –û—Ç–¥–µ–ª—å–Ω—ã–π –≤–æ—Ä–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á SAGA (–º–æ–¥–µ—Ä–∞—Ü–∏—è, –ø—Ä–µ–≤—å—é, –ø—É–±–ª–∏–∫–∞—Ü–∏—è).

#### –î–æ–±–∞–≤–ª–µ–Ω —Å–µ—Ä–≤–∏—Å `dlq-worker`:
```yaml
dlq-worker:
  build: .
  command: celery -A src.tasks.dlq worker --loglevel=info --concurrency=1 -Q dlq
  # ... –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è ...
```

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–æ—Ä–∫–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á –∏–∑ DLQ.

#### –û–±–Ω–æ–≤–ª–µ–Ω `worker` (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):
```yaml
worker:
  command: celery -A src.tasks.notifications worker --loglevel=info --concurrency=2 -Q article-notifications
  # –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è DLQ –∏ API-–∫–ª—é—á–µ–π
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `worker` —Ç–µ–ø–µ—Ä—å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –∑–∞–¥–∞—á–∏ SAGA –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `saga-worker`.

#### –£–¥–∞–ª–µ–Ω–∞ —Å—Ç—Ä–æ–∫–∞ `version: "3.9"`:
- –í –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö Docker Compose –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è

---

### 13. `env.example`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:
```env
DLQ_QUEUE=dlq
BACKEND_URL=http://localhost:8000
INTERNAL_API_KEY=change-me-in-production
```

---

### 14. `README.md`

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**

#### –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è ‚Ññ4":
- –û–ø–∏—Å–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
- –°—Å—ã–ª–∫–∞ –Ω–∞ `LAB4_README.md`
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üìä –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 1. `alembic/versions/005_add_article_status_and_preview.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª–µ–π `status` –∏ `preview_url` –≤ —Ç–∞–±–ª–∏—Ü—É `articles`.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```python
def upgrade():
    # Add status column with default value DRAFT
    op.add_column('articles', sa.Column('status', sa.String(32), nullable=False, server_default='DRAFT'))
    op.add_column('articles', sa.Column('preview_url', sa.String(500), nullable=True))
    op.create_index('ix_articles_status', 'articles', ['status'])

def downgrade():
    op.drop_index('ix_articles_status', table_name='articles')
    op.drop_column('articles', 'preview_url')
    op.drop_column('articles', 'status')
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- `status` –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `DRAFT`
- –°–æ–∑–¥–∞–Ω –∏–Ω–¥–µ–∫—Å –Ω–∞ `status` –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- `preview_url` –º–æ–∂–µ—Ç –±—ã—Ç—å `NULL`

---

### 2. `alembic/versions/006_add_api_keys.py`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã `api_keys` –¥–ª—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API-–∫–ª—é—á–µ–π.

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
```python
def upgrade():
    op.create_table(
        'api_keys',
        sa.Column('id', UUID(as_uuid=True), primary_key=True),
        sa.Column('key', sa.String(255), nullable=False, unique=True),
        sa.Column('description', sa.String(255), nullable=True),
        sa.Column('created_at', sa.DateTime(), nullable=False),
        sa.Column('expires_at', sa.DateTime(), nullable=True),
        sa.Column('is_active', sa.String(10), nullable=False, server_default='active'),
    )
    op.create_index('ix_api_keys_key', 'api_keys', ['key'])

def downgrade():
    op.drop_index('ix_api_keys_key', table_name='api_keys')
    op.drop_table('api_keys')
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–Ω–¥–µ–∫—Å –Ω–∞ `key` –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ä–æ–∫–∞ –¥–µ–π—Å—Ç–≤–∏—è (`expires_at`)
- –§–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`is_active`)

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Å–µ—Ä–≤–∏—Å–æ–≤:

**–õ–†3:**
- `backend` ‚Äî API
- `users-api` ‚Äî —Å–µ—Ä–≤–∏—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `worker` ‚Äî –≤–æ—Ä–∫–µ—Ä —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `redis` ‚Äî –æ—á–µ—Ä–µ–¥—å
- `push-notificator` ‚Äî push-—Å–µ—Ä–≤–∏—Å
- `api-gateway` ‚Äî Nginx

**–õ–†4 (–¥–æ–±–∞–≤–ª–µ–Ω–æ):**
- `saga-worker` ‚Äî –≤–æ—Ä–∫–µ—Ä SAGA (–º–æ–¥–µ—Ä–∞—Ü–∏—è, –ø—Ä–µ–≤—å—é, –ø—É–±–ª–∏–∫–∞—Ü–∏—è)
- `dlq-worker` ‚Äî –≤–æ—Ä–∫–µ—Ä DLQ (–∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è)

**–ò—Ç–æ–≥–æ:** 2 –Ω–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–∞

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:

1. **`LAB4_README.md`** ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –õ–†4
   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∑–∞–ø—É—Å–∫—É

2. **`LAB4_TESTING.md`** ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
   - –ü–æ—à–∞–≥–æ–≤–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Swagger
   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤
   - Troubleshooting

3. **`LAB4_CHANGES.md`** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ª–æ–≥–∏–∫–µ —Ä–∞–±–æ—Ç—ã

### –õ–†3: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞

```
–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ ‚Üí –°—Ä–∞–∑—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
```

### –õ–†4: –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–∞

```
–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ (DRAFT)
    ‚Üì
–ó–∞–ø—Ä–æ—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (PENDING_PUBLISH)
    ‚Üì
–ú–æ–¥–µ—Ä–∞—Ü–∏—è ‚Üí [APPROVED/REJECTED]
    ‚Üì
–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é (–µ—Å–ª–∏ –æ–¥–æ–±—Ä–µ–Ω–æ)
    ‚Üì
–ü—É–±–ª–∏–∫–∞—Ü–∏—è (PUBLISHED)
    ‚Üì
–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–¥–ø–∏—Å—á–∏–∫–∞–º
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –ù–æ–≤—ã–µ –º–µ—Ö–∞–Ω–∏–∑–º—ã:

1. **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API-–∫–ª—é—á–∏:**
   - –î–æ–ª–≥–æ–∂–∏–≤—É—â–∏–µ —Ç–æ–∫–µ–Ω—ã –¥–ª—è service-to-service –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–∑—ã–≤–∞
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ middleware

2. **–ó–∞—â–∏—Ç–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:**
   - –ù–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ JWT
   - –¢–æ–ª—å–∫–æ API-–∫–ª—é—á–∏
   - –ò–∑–æ–ª—è—Ü–∏—è –æ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

- **–ù–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 7
- **–ò–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:** 14
- **–ù–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π:** 2
- **–ù–æ–≤—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ Docker:** 2
- **–ù–æ–≤—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤:** 5 (1 –ø—É–±–ª–∏—á–Ω—ã–π + 4 –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö)
- **–ù–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π –ë–î:** 1 (`ApiKey`)
- **–ù–æ–≤—ã—Ö –ø–æ–ª–µ–π –≤ –º–æ–¥–µ–ª–∏:** 2 (`status`, `preview_url`)

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è

| –ê—Å–ø–µ–∫—Ç | –õ–†3 | –õ–†4 |
|--------|-----|-----|
| **–ü—É–±–ª–∏–∫–∞—Ü–∏—è** | –°—Ä–∞–∑—É –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ | –î–≤—É—Ö—ç—Ç–∞–ø–Ω–∞—è (—Å–æ–∑–¥–∞–Ω–∏–µ ‚Üí –ø—É–±–ª–∏–∫–∞—Ü–∏—è) |
| **–°—Ç–∞—Ç—É—Å—ã –ø–æ—Å—Ç–æ–≤** | –ù–µ—Ç | 5 —Å—Ç–∞—Ç—É—Å–æ–≤ (DRAFT, PENDING_PUBLISH, PUBLISHED, REJECTED, ERROR) |
| **–ú–æ–¥–µ—Ä–∞—Ü–∏—è** | –ù–µ—Ç | –ï—Å—Ç—å (—Å–∏–º—É–ª—è—Ü–∏—è) |
| **–ü—Ä–µ–≤—å—é** | –ù–µ—Ç | –ï—Å—Ç—å (–≥–µ–Ω–µ—Ä–∞—Ü–∏—è) |
| **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** | –ü—Ä–æ—Å—Ç–∞—è –æ—á–µ—Ä–µ–¥—å | SAGA Choreography |
| **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** | –ë–∞–∑–æ–≤—ã–µ —Ä–µ—Ç—Ä–∞–∏ | DLQ + –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ |
| **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** | –¢–æ–ª—å–∫–æ JWT | JWT + API-–∫–ª—é—á–∏ |
| **–í–æ—Ä–∫–µ—Ä—ã** | 1 (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) | 3 (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, SAGA, DLQ) |

---

## üìù –î–µ—Ç–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—Å—Ç–∞

**–§–∞–π–ª:** `src/routes/articles.py`

**–ë—ã–ª–æ (–õ–†3):**
```python
@router.post("/", response_model=SuccessResponse)
def create_article(...):
    db_article = crud.create_article(article_data, user_id)
    # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–∏—Å—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    enqueue_article_notification(author_id=user_id, article_id=db_article.id)
    return SuccessResponse(...)
```

**–°—Ç–∞–ª–æ (–õ–†4):**
```python
@router.post("/", response_model=SuccessResponse)
def create_article(...):
    db_article = crud.create_article(article_data, user_id)
    # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
    # –¢–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ POST /api/articles/{slug}/publish
    return SuccessResponse(...)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–∞.

---

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

**–§–∞–π–ª:** `src/controllers/crud.py`

**–ë—ã–ª–æ (–õ–†3):**
```python
db_article = Article(
    title=article_data.title,
    description=article_data.description,
    body=article_data.body,
    tag_list=article_data.tag_list or [],
    slug=slug,
    author_id=author_id
    # –ù–µ—Ç –ø–æ–ª—è status
)
```

**–°—Ç–∞–ª–æ (–õ–†4):**
```python
db_article = Article(
    title=article_data.title,
    description=article_data.description,
    body=article_data.body,
    tag_list=article_data.tag_list or [],
    slug=slug,
    author_id=author_id,
    status="DRAFT"  # ‚Üê –î–û–ë–ê–í–õ–ï–ù–û: —Å—Ç–∞—Ç—É—Å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í—Å–µ –ø–æ—Å—Ç—ã —Å–æ–∑–¥–∞—é—Ç—Å—è –∫–∞–∫ —á–µ—Ä–Ω–æ–≤–∏–∫–∏.

---

### –ù–æ–≤–∞—è –ª–æ–≥–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

**–§–∞–π–ª:** `src/routes/articles.py`

**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
```python
@router.post("/{slug}/publish", response_model=SuccessResponse)
def publish_article(slug: str, user_id: UUID, db: Session):
    # 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ (—Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä)
    # 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ (—Ç–æ–ª—å–∫–æ DRAFT)
    db_article = crud.request_publication(slug, user_id)
    
    # 3. –õ–æ–∫–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è: —Å—Ç–∞—Ç—É—Å ‚Üí PENDING_PUBLISH
    # 4. –ü–æ—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥—å
    enqueue_moderation_task(
        post_id=str(db_article.id),
        author_id=str(db_article.author_id),
        title=db_article.title,
        body=db_article.body,
        requested_by=str(user_id)
    )
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û—Ç–∫–∞—Ç —Å—Ç–∞—Ç—É—Å–∞ –ø—Ä–∏ –æ—à–∏–±–∫–µ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –∑–∞–¥–∞—á–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∑–∞–¥–∞—á–∏
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

---

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ UUID

**–§–∞–π–ª:** `src/tasks/saga.py`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏ —Å–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Celery UUID –º–æ–≥ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å—Å—è –≤ –Ω–µ–≤–µ—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ.

**–†–µ—à–µ–Ω–∏–µ:**
```python
# –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ç–∏–ø–∞
if isinstance(post_id, UUID):
    post_uuid = post_id
else:
    post_id_clean = str(post_id).strip()
    post_uuid = UUID(post_id_clean)
```

**–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ `ValueError: badly formed hexadecimal UUID string`.

---

## üîç –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä

### –õ–†3: –ü—Ä–æ—Å—Ç–∞—è –æ—á–µ—Ä–µ–¥—å

```
POST /api/articles
    ‚Üì
[Backend] ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
    ‚Üì
[Backend] ‚Üí enqueue notify_followers
    ‚Üì
[Redis Queue]
    ‚Üì
[Worker] ‚Üí –ß—Ç–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤ ‚Üí Push —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

### –õ–†4: SAGA Choreography

```
POST /api/articles
    ‚Üì
[Backend] ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞ (DRAFT)
    ‚Üì
POST /api/articles/{slug}/publish
    ‚Üì
[Backend] ‚Üí –°—Ç–∞—Ç—É—Å ‚Üí PENDING_PUBLISH
    ‚Üì
[Redis Queue] ‚Üí post.moderate
    ‚Üì
[SAGA Worker] ‚Üí –ú–æ–¥–µ—Ä–∞—Ü–∏—è
    ‚îú‚îÄ APPROVED ‚Üí post.generate_preview
    ‚îÇ   ‚Üì
    ‚îÇ   [SAGA Worker] ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–µ–≤—å—é
    ‚îÇ       ‚Üì
    ‚îÇ   [Redis Queue] ‚Üí post.publish
    ‚îÇ       ‚Üì
    ‚îÇ   [SAGA Worker] ‚Üí –ü—É–±–ª–∏–∫–∞—Ü–∏—è (PUBLISHED)
    ‚îÇ       ‚Üì
    ‚îÇ   [Redis Queue] ‚Üí post.notify
    ‚îÇ       ‚Üì
    ‚îÇ   [Worker] ‚Üí –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
    ‚îÇ
    ‚îî‚îÄ REJECTED ‚Üí –ö–æ–º–ø–µ–Ω—Å–∞—Ü–∏—è (REJECTED)
```

---

## üîê –°–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –õ–†3: –¢–æ–ª—å–∫–æ JWT

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí JWT —Ç–æ–∫–µ–Ω ‚Üí Backend API
```

### –õ–†4: JWT + API-–∫–ª—é—á–∏

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å ‚Üí JWT —Ç–æ–∫–µ–Ω ‚Üí Backend API (–ø—É–±–ª–∏—á–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
–í–æ—Ä–∫–µ—Ä ‚Üí API-–∫–ª—é—á ‚Üí Backend API (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
```

**–¢–∞–±–ª–∏—Ü–∞ `api_keys`:**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–æ–ª–≥–æ–∂–∏–≤—É—â–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–∑—ã–≤–∞ (is_active)
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è (expires_at)
- –û–ø–∏—Å–∞–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª—é—á–∞

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ü–æ —Ç–∏–ø–∞–º —Ñ–∞–π–ª–æ–≤:

- **Python —Ñ–∞–π–ª—ã:** 14 –∏–∑–º–µ–Ω–µ–Ω–æ, 7 —Å–æ–∑–¥–∞–Ω–æ
- **–ú–∏–≥—Ä–∞—Ü–∏–∏:** 2 —Å–æ–∑–¥–∞–Ω–æ
- **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:** 3 —Ñ–∞–π–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–æ
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** 3 —Ñ–∞–π–ª–∞ —Å–æ–∑–¥–∞–Ω–æ
- **–°–∫—Ä–∏–ø—Ç—ã:** 2 —Å–æ–∑–¥–∞–Ω–æ

### –ü–æ —Å—Ç—Ä–æ–∫–∞–º –∫–æ–¥–∞:

- **–î–æ–±–∞–≤–ª–µ–Ω–æ:** ~1500 —Å—Ç—Ä–æ–∫
- **–ò–∑–º–µ–Ω–µ–Ω–æ:** ~200 —Å—Ç—Ä–æ–∫
- **–£–¥–∞–ª–µ–Ω–æ:** ~10 —Å—Ç—Ä–æ–∫ (—É–±—Ä–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ)

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**–õ–†3:** –û–¥–∏–Ω –≤–æ—Ä–∫–µ—Ä –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á  
**–õ–†4:** –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã:
- `worker` ‚Äî —Ç–æ–ª—å–∫–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- `saga-worker` ‚Äî –º–æ–¥–µ—Ä–∞—Ü–∏—è, –ø—Ä–µ–≤—å—é, –ø—É–±–ª–∏–∫–∞—Ü–∏—è
- `dlq-worker` ‚Äî –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏

### 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

**–õ–†3:** –ë–∞–∑–æ–≤—ã–µ —Ä–µ—Ç—Ä–∞–∏  
**–õ–†4:** 
- –†–µ—Ç—Ä–∞–∏ —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- DLQ –¥–ª—è –Ω–µ—É–¥–∞—á–Ω—ã—Ö –∑–∞–¥–∞—á
- –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### 3. –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å

**–õ–†3:** –ß–∞—Å—Ç–∏—á–Ω–∞—è  
**–õ–†4:** –ü–æ–ª–Ω–∞—è:
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π
- –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ä–µ—Ç—Ä–∞–∏

### 4. –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**–õ–†3:** –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ  
**–õ–†4:** –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ:
- –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö
- –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –æ—à–∏–±–æ–∫

---

## ‚úÖ –ò—Ç–æ–≥

–õ–†4 –¥–æ–±–∞–≤–ª—è–µ—Ç:
- ‚úÖ –î–≤—É—Ö—ç—Ç–∞–ø–Ω—É—é –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π
- ‚úÖ SAGA Choreography –ø–∞—Ç—Ç–µ—Ä–Ω
- ‚úÖ –°–∏—Å—Ç–µ–º—É –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö API-–∫–ª—é—á–µ–π
- ‚úÖ DLQ —Å –∫–æ–º–ø–µ–Ω—Å–∏—Ä—É—é—â–∏–º–∏ –¥–µ–π—Å—Ç–≤–∏—è–º–∏
- ‚úÖ –ò–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ 5 —Å—Ç–∞—Ç—É—Å–æ–≤ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –ø–æ—Å—Ç–∞
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–µ–≤—å—é
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤–æ—Ä–∫–µ—Ä—ã

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å –õ–†3 ‚Äî —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–æ—Å—Ç—ã –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å –µ—Å—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π —à–∞–≥ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å –º–æ–¥–µ—Ä–∞—Ü–∏–µ–π.

---

## üìö –°–≤—è–∑–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã

- [LAB4_README.md](LAB4_README.md) ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [LAB4_TESTING.md](LAB4_TESTING.md) ‚Äî –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
- [LAB3_README.md](LAB3_README.md) ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –õ–†3 –¥–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è

